#!/bin/sh

set -e
tmpfile=test_$$

# vg6d_getpoint with nearest point test
vg6d_getpoint --trans-type=inter --sub-type=near \
    --output-format=native ../data/t_p.grb $tmpfile.v7d

v7d_transform --input-format=native --output-format=csv $tmpfile.v7d $tmpfile.csv

cat > $tmpfile.check.csv <<EOF
written by v7d_transform
Date,Time range,P1,P2,Longitude,Latitude,Level1,L1,Level2,L2,Report,B12101,B10004
2011-08-18 12:00:00,254,43200,0,10.00000,45.00000,105,29,105,30,generic,293.667969,88460.9375
EOF

diff $tmpfile.check.csv $tmpfile.csv
rm -f $tmpfile.check.csv $tmpfile.csv
echo "vg6d_getpoint with nearest point test passed"

# vg6d_getpoint with polygons test
vg6d_getpoint --trans-type=polyinter --sub-type=average \
    --coord-format=shp --coord-file=../data/macroaree_er \
    --output-format=native ../data/t_p.grb $tmpfile.v7d

v7d_transform --input-format=native --output-format=csv $tmpfile.v7d $tmpfile.csv

cat > $tmpfile.check.csv <<EOF
written by v7d_transform
Date,Time range,P1,P2,Longitude,Latitude,Level1,L1,Level2,L2,Report,B01192,B12101,B10004
2011-08-18 12:00:00,254,43200,0,12.13863,44.00177,105,29,105,30,generic,1,290.872894,84530.0781
2011-08-18 12:00:00,254,43200,0,12.16570,44.16615,105,29,105,30,generic,2,293.900208,88468.6328
2011-08-18 12:00:00,254,43200,0,11.34861,44.32512,105,29,105,30,generic,3,291.539825,84737.7422
2011-08-18 12:00:00,254,43200,0,11.76025,44.61643,105,29,105,30,generic,4,294.172485,88755.1875
2011-08-18 12:00:00,254,43200,0,10.62764,44.48127,105,29,105,30,generic,5,289.914581,83044.0469
2011-08-18 12:00:00,254,43200,0,10.88643,44.73951,105,29,105,30,generic,6,293.723846,88514.7344
2011-08-18 12:00:00,254,43200,0,9.77186,44.64729,105,29,105,30,generic,7,288.863953,82225.8984
2011-08-18 12:00:00,254,43200,0,9.88116,44.90400,105,29,105,30,generic,8,292.667694,87197.0078
EOF

diff $tmpfile.check.csv $tmpfile.csv
rm -f $tmpfile.check.csv $tmpfile.csv
rm -f $tmpfile.v7d
echo "vg6d_getpoint with polygons test passed"


# vg6d_transform with bilin test
${pref}vg6d_transform --trans-mode=p --trans-type=inter --sub-type=bilin \
    --type=regular_ll --nx=11 --ny=11 --x-min=5. --x-max=15. \
    --y-min=40. --y-max=50. \
    ../data/t_p.grb ${tmpfile}_p.grb

${pref}vg6d_getpoint --trans-type=inter --sub-type=near --lon=8. --lat=47. \
    --output-format=native ${tmpfile}_p.grb ${tmpfile}_p.v7d

${pref}v7d_transform --input-format=native --output-format=csv \
    ${tmpfile}_p.v7d ${tmpfile}_p.csv

${pref}vg6d_transform --trans-mode=s --trans-type=inter --sub-type=bilin \
    --type=regular_ll --nx=21 --ny=21 --x-min=0. --x-max=20. \
    --y-min=35. --y-max=55. \
    ../data/t_p.grb ${tmpfile}_s.grb

# ${pref}vg6d_getpoint --trans-type=metamorphosis --sub-type=coordbb \
#     --ilon=7.5 --flon=8.5 --ilat=46.5 --flat=47.5 \
#     --output-format=native ${tmpfile}_s.grb ${tmpfile}_s.v7d

${pref}vg6d_getpoint --trans-type=inter --sub-type=near --lon=8. --lat=47. \
    --output-format=native ${tmpfile}_s.grb ${tmpfile}_s.v7d

${pref}v7d_transform --input-format=native --output-format=csv \
    ${tmpfile}_s.v7d ${tmpfile}_s.csv

diff ${tmpfile}_p.csv ${tmpfile}_s.csv
rm -f ${tmpfile}_*.*
echo "vg6d_transform with bilin test passed"

# challenging statistical processing by aggregation of forecasts test

cat > ${tmpfile}_tmaxfc.json <<EOF
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-29T00:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":0},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[254,0,0],"level":[103,2000,null,null],"vars":{"B12101":{"v":278.23}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-29T01:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":1},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,3600,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":278.41}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-29T02:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":2},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,7200,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":278.09}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-29T03:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":3},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,10800,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":277.79}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-29T04:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":4},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,14400,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":277.81}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-29T05:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":5},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,18000,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":277.81}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-29T06:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":6},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,21600,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":277.52}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-29T07:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":7},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,25200,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":277.07}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-29T08:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":8},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,28800,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":277.06}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-29T09:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":9},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,32400,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":277.82}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-29T10:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":10},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,36000,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":278.73}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-29T11:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":11},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,39600,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":279.89}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-29T12:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":12},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,43200,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":280.96}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-29T13:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":13},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,46800,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":281.47}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-29T14:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":14},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,50400,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":281.48}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-29T15:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":15},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,54000,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":281.46}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-29T16:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":16},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,57600,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":281.33}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-29T17:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":17},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,61200,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":281.06}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-29T18:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":18},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,64800,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":280.74}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-29T19:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":19},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,68400,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":280.30}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-29T20:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":20},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,72000,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":279.94}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-29T21:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":21},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,75600,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":279.59}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-29T22:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":22},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,79200,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":279.27}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-29T23:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":23},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,82800,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":279.36}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-30T00:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":0},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,86400,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":278.73}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-30T01:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":1},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,90000,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":278.45}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-30T02:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":2},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,93600,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":278.24}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-30T03:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":3},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,97200,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":278.53}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-30T04:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":4},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,100800,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":278.33}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-30T05:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":5},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,104400,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":277.79}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-30T06:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":6},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,108000,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":277.57}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-30T07:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":7},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,111600,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":277.73}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-30T08:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":8},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,115200,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":278.49}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-30T09:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":9},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,118800,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":278.83}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-30T10:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":10},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,122400,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":280.35}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-30T11:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":11},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,126000,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":281.75}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-30T12:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":12},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,129600,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":282.71}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-30T13:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":13},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,133200,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":283.30}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-30T14:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":14},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,136800,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":283.39}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-30T15:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":15},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,140400,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":283.32}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-30T16:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":16},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,144000,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":282.56}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-30T17:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":17},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,147600,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":281.79}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-30T18:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":18},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,151200,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":281.81}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-30T19:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":19},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,154800,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":281.10}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-30T20:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":20},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,158400,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":280.64}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-30T21:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":21},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,162000,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":279.99}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-30T22:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":22},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,165600,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":279.63}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-30T23:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":23},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,169200,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":279.56}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-31T00:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":31},"B04004":{"v":0},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,172800,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":278.75}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-29T00:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":0},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[254,0,0],"level":[103,2000,null,null],"vars":{"B12101":{"v":280.49}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-29T01:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":1},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,3600,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":280.57}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-29T02:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":2},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,7200,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":280.33}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-29T03:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":3},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,10800,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":280.29}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-29T04:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":4},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,14400,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":280.23}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-29T05:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":5},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,18000,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":280.02}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-29T06:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":6},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,21600,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":279.82}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-29T07:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":7},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,25200,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":279.43}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-29T08:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":8},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,28800,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":279.41}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-29T09:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":9},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,32400,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":279.62}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-29T10:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":10},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,36000,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":280.84}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-29T11:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":11},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,39600,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":282.33}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-29T12:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":12},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,43200,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":282.65}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-29T13:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":13},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,46800,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":282.53}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-29T14:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":14},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,50400,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":282.85}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-29T15:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":15},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,54000,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":282.85}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-29T16:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":16},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,57600,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":282.55}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-29T17:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":17},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,61200,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":281.28}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-29T18:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":18},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,64800,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":281.02}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-29T19:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":19},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,68400,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":280.38}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-29T20:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":20},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,72000,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":280.23}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-29T21:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":21},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,75600,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":279.76}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-29T22:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":22},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,79200,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":279.47}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-29T23:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":23},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,82800,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":279.42}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-30T00:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":0},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,86400,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":279.62}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-30T01:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":1},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,90000,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":279.65}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-30T02:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":2},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,93600,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":279.78}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-30T03:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":3},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,97200,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":279.40}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-30T04:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":4},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,100800,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":279.98}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-30T05:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":5},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,104400,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":280.27}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-30T06:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":6},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,108000,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":280.99}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-30T07:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":7},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,111600,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":281.43}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-30T08:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":8},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,115200,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":281.78}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-30T09:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":9},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,118800,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":282.40}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-30T10:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":10},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,122400,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":283.83}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-30T11:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":11},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,126000,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":284.88}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-30T12:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":12},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,129600,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":285.36}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-30T13:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":13},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,133200,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":285.34}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-30T14:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":14},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,136800,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":284.96}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-30T15:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":15},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,140400,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":284.06}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-30T16:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":16},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,144000,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":282.70}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-30T17:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":17},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,147600,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":281.54}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-30T18:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":18},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,151200,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":281.09}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-30T19:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":19},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,154800,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":281.46}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-30T20:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":20},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,158400,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":281.45}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-30T21:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":21},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,162000,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":281.42}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-30T22:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":22},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,165600,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":281.65}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-30T23:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":23},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,169200,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":282.46}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-31T00:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":31},"B04004":{"v":0},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,172800,3600],"level":[103,2000,null,null],"vars":{"B12101":{"v":282.74}}}]}
EOF

cat > ${tmpfile}_result.json <<EOF
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-29T18:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":18},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,64800,86400],"level":[103,2000,null,null],"vars":{"B12101":{"v":282.85}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1194214,"lat":4374729,"date":"2021-12-30T18:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":18},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":43.74729},"B06001":{"v":11.94214}}},{"timerange":[2,151200,86400],"level":[103,2000,null,null],"vars":{"B12101":{"v":285.36}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-29T18:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":29},"B04004":{"v":18},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,64800,86400],"level":[103,2000,null,null],"vars":{"B12101":{"v":281.48}}}]}
{"version":"0.1","network":"generic","ident":null,"lon":1198608,"lat":4505800,"date":"2021-12-30T18:00:00Z","data":[{"vars":{"B01194":{"v":"generic"},"B04001":{"v":2021},"B04002":{"v":12},"B04003":{"v":30},"B04004":{"v":18},"B04005":{"v":0},"B04006":{"v":0},"B05001":{"v":45.05800},"B06001":{"v":11.98608}}},{"timerange":[2,151200,86400],"level":[103,2000,null,null],"vars":{"B12101":{"v":283.39}}}]}
EOF

# test with time_definition 0 (reftime)
v7d_transform --input-format=JSON --output-format=JSON \
    --comp-stat-proc=2:2 --comp-step='1 00' --comp-start="2021-12-28 18:00" \
    --comp-frac-valid=0 --time-definition=0 ${tmpfile}_tmaxfc.json ${tmpfile}_tmax0.json

# test with time_definition 1 (vertime)
v7d_transform --input-format=JSON --output-format=JSON \
    --comp-stat-proc=2:2 --comp-step='1 00' --comp-start="2021-12-28 18:00" \
    --comp-frac-valid=0 --time-definition=1 ${tmpfile}_tmaxfc.json ${tmpfile}_tmax1.json

diff ${tmpfile}_tmax0.json ${tmpfile}_result.json
diff ${tmpfile}_tmax1.json ${tmpfile}_result.json
rm -f ${tmpfile}_tmaxfc.json ${tmpfile}_tmax0.json ${tmpfile}_tmax1.json ${tmpfile}_result.json

echo "challenging statistical processing by aggregation of forecasts test passed"

